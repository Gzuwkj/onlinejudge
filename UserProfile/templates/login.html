{% extends "base.html" %}

{% block title %}
    login
{% endblock %}
{% block css_js %}
    <style>
.form-signin {width: 100%;max-width: 330px;padding: 15px;margin: auto;margin-top: 5em;}
.form-signin .checkbox {font-weight: 400;}
.form-signin .form-control {position: relative;box-sizing: border-box;height: auto;padding: 10px;font-size: 16px;}
.form-signin .form-control:focus {z-index: 2;}
.form-signin h1 {margin-bottom: 1.5em!important;}
.form-signin input[type="text"] {margin-bottom: 10px;border-bottom-right-radius: 0;border-bottom-left-radius: 0;}
.form-signin input[type="password"] {margin-bottom: 10px;border-top-left-radius: 0;border-top-right-radius: 0;}
    </style>

{% endblock %}
{% block content %}
    <div class="text-center">
        <form class="form-signin" method="post" action="{% url 'user:login' %}">
            {% csrf_token %}
            <img class="mb-4" src="" alt="" width="72" height="72">
            <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>
            <label for="inputId" class="sr-only">User</label>
            <input type="text" id="inputId" class="form-control" placeholder="User" name="user_name"
                    {% if user_error %}
                   data-container="body" data-toggle="popover" data-placement="top" data-content="用户名或密码错误"
                   {% endif %}
                   required autofocus>
            {% if user_error %}
            <script>
                $(function(){
                    $('[data-toggle="popover"]').popover();
                    $('[data-toggle="popover"]').click();
                    $('[data-toggle="popover"]').click(function(){
                         $('[data-toggle="popover"]').popover('hide');
                    });
                });
            </script>
            {% endif %}
            <label for="inputPassword" class="sr-only">Password</label>
            <input type="password" id="inputPassword" class="form-control" placeholder="Password" name="user_password" required>
            <div class="checkbox mb-3"><label><input type="checkbox" value="remember-me"> Remember me </label></div>
            <button class="btn btn-lg btn-primary btn-block" type="submit">Sign in</button>
            <p class="mt-5 mb-3 text-muted">&copy; 2017-2019</p>
        </form>
    </div>
{% endblock %}